module.exports = function loadmode(CodeMirror) {
    GLOBAL.CodeMirror = CodeMirror;
    if (!CodeMirror.modeURL) CodeMirror.modeURL = "../../../codemirror/mode/%N/%N.js";

    CodeMirror.requireMode = function(mode) {
        if (typeof mode != "string") mode = mode.name;
        if (!CodeMirror.modes.hasOwnProperty(mode)) {
            require(CodeMirror.modeURL.replace(/%N/g, mode));
        }
    };

    // Load all modes.
    var modes = ["clike", "clojure", "coffeescript", "css", "diff", "ecl", "erlang", "gfm", "go", "groovy", "haskell", "haxe", "htmlembedded", "htmlmixed", "javascript", "jinja2", "less", "lua", "markdown", "mysql", "ntriples", "ocaml", "pascal", "perl", "php", "pig", "plsql", "properties", "python", "r", "rst", "ruby", "rust", "scheme", "shell", "sieve", "smalltalk", "smarty", "sparql", "stex", "tiddlywiki", "tiki", "vb", "vbscript", "velocity", "verilog", "xml", "xquery", "yaml"];

    modes.forEach(function(mode) {
        CodeMirror.requireMode(mode);
    });

    /**
    @description mime: mode
    "application/json": "javascript"
    "application/sieve": "sieve"
    "application/x-aspx": "htmlembedded"
    "application/x-ejs": "htmlembedded"
    "application/x-httpd-php": "php"
    "application/x-httpd-php-open": "php"
    "application/x-jsp": "htmlembedded"
    "application/x-sparql-query": "sparql"
    "application/xml": "xml"
    "text/css": "css"
    "text/css": "less"
    "text/html": "htmlmixed"
    "text/html": "xml"
    "text/javascript": "javascript"
    "text/n-triples": "ntriples"
    "text/tiki": "tiki"
    "text/vbscript": "vbscript"
    "text/velocity": "velocity"
    "text/x-c": "clike"
    "text/x-c++hdr": "clike"
    "text/x-c++src": "clike"
    "text/x-chdr": "clike"
    "text/x-clojure": "clojure"
    "text/x-coffeescript": "coffeescript"
    "text/x-csharp": "clike"
    "text/x-csrc": "clike"
    "text/x-diff": "diff"
    "text/x-ecl": "ecl"
    "text/x-erlang": "erlang"
    "text/x-go": "go"
    "text/x-groovy": "groovy"
    "text/x-haskell": "haskell"
    "text/x-haxe": "haxe"
    "text/x-ini": "properties"
    "text/x-java": "clike"
    "text/x-latex": "stex"
    "text/x-less": "less"
    "text/x-lua": "lua"
    "text/x-markdown": "markdown"
    "text/x-mysql": "mysql"
    "text/x-ocaml":"ocaml"
    "text/x-pascal": "pascal"
    "text/x-perl": "perl"
    "text/x-pig": "pig"
    "text/x-plsql": "plsql"
    "text/x-properties": "properties"
    "text/x-python": "python"
    "text/x-rpm-changes": "changes"
    "text/x-rpm-spec": "spec"
    "text/x-rsrc": "r"
    "text/x-rst": "rst"
    "text/x-ruby": "ruby"
    "text/x-rustsrc": "rust"
    "text/x-scala": "clike"
    "text/x-scheme": "scheme"
    "text/x-sh":"shell"
    "text/x-smarty": "smarty"
    "text/x-stex": "stex"
    "text/x-stsrc": "smalltalk"
    "text/x-tiddlywiki": "tiddlywiki"
    "text/x-vb": "vb"
    "text/x-verilog": "verilog"
    "text/xml": "xml"
     */
};
